local LuaStack = BaseClass("LuaStack")

function LuaStack:__init()
    self.items = {}
    self.topPoint = 1
end

function LuaStack:Add(item)
    self.items[self.topPoint] = item
    self.topPoint = self.topPoint + 1
end

function LuaStack:Pop()
    if self.topPoint == 1 then
        return nil
    end

    self.topPoint = self.topPoint - 1
    return self.items[self.topPoint]
end

function LuaStack:Clear()
    self.topPoint = 1
    self.items = {}
end

function LuaStack:Foreach(func)
    if self.topPoint < 2 then
        return
    end

    for i = 1, (self.topPoint - 1) do
        func(self.items[i], i)
    end
end
